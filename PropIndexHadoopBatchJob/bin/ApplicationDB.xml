<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:p="http://www.springframework.org/schema/p"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"> 
 
<bean id="mySessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
            <property name="dataSource" ref="mbbussinessdatasource"/>
            <property name="hibernateProperties">
	            <props>
				<prop key="hibernate.dialect">org.hibernate.dialect.DB2Dialect</prop>
                <prop key="hibernate.show_sql">false</prop> 
                <prop key="hibernate.cache.use_structured_entries">true</prop>				
				<prop key="hibernate.cglib.use_reflection_optimizer">true</prop>
				<prop key="use_outer_join">true</prop>
				<prop key="max_fetch_depth">3</prop>
				<prop key="hibernate.jdbc.batch_size">50</prop>
					<prop key="hibernate.jdbc.use_scrollable_resultsets">true</prop>
					<prop key="hibernate.connection.release_mode">auto</prop>				
				<prop key="hibernate.connection.pool_size">50</prop>
				<!-- prop key="hibernate.jdbc.use_scrollable_resultset"> true</prop-->	
				<prop key="hibernate.connection.aggressive_release">false</prop>  		
				<!-- prop key="hibernate.connection.release_mode">on_close</prop-->
				<!--  <property name="hibernate.connection.autocommit">true</property> -->
                <!--<prop key="transaction.factory_class">org.hibernate.transaction.WebSphereExtendedJTATransactionLookup</prop>-->
				<prop key="transaction.factory_class">org.hibernate.transaction.JBossTransactionManagerLookup</prop>
				<prop key="hibernate.connection.isolation">2</prop>
				<!-- prop key="hibernate.cache.provider_class">com.opensymphony.oscache.hibernate.OSCacheProvider</prop-->
                
                <!-- <prop key="hibernate.cglib.use_reflection_optimizer">true</prop>  -->
            </props>
        	</property>    	
            <property name="mappingResources">
            
	            <list>
	               <value>com/hbm/Tplrt.hbm.xml</value>	 
	               <value>com/hbm/Tpcnd.hbm.xml</value>	 
	               <value>com/hbm/Tplmt.hbm.xml</value>
	               <value>com/hbm/Tppmt.hbm.xml</value>
	               <value>com/hbm/Tpubi.hbm.xml</value>
	               <value>com/hbm/Tpsrec.hbm.xml</value>	         
	  		    </list>  
  	    	</property> 
        	 <property name="packagesToScan" value="com.mbbatch.domain" />  	
            
</bean>
<bean id="propIndexDaoHibernate" class="com.mbbatch.dao.PropIndexDaoHibernate" scope="prototype">
	<property name="sessionFactory" ref="mySessionFactory" />	
</bean>
    
<bean id="mbbussinessdatasource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">                  
	<property name="driverClassName" value="com.ibm.db2.jcc.DB2Driver" />        
	<!--<property name="url" value="jdbc:db2://115.112.206.209:60000/mbrevamp" />       
	 <property name="url" value="jdbc:db2://10.150.200.61:50000/livedb" />   
	  <property name="url" value="jdbc:db2://115.112.206.242:50000/mblivedb" /> -->   
	  <!-- <property name="url" value="jdbc:db2://10.150.200.201:50000/mbprod" />-->
	  <property name="url" value="jdbc:db2://115.112.206.242:50000/mblivedb" />
	 <property name="maxWait" value="350" />
	 <property name="maxIdle" value="40" />
	 <property name="maxActive" value="70" />
	<property name="username" value="property" />                
	<property name="password" value="tpmbd@t@" />   
	    
</bean>

<bean id="transactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager" lazy-init="true">
		<property name="sessionFactory" ref="sessionFactory" />
	</bean>
 
<bean id="DB-transactionManager"  class="org.springframework.jdbc.datasource.DataSourceTransactionManager" lazy-init="true">
<property name="dataSource"  ref="mbdatasource" />   
</bean>
</beans>



